{# Base Template - Common Elements for All Templates #}

{# Header Block #}
{% block header %}
# {{ data.title | default('Report') }}

{% if data.subtitle %}
_{{ data.subtitle }}_
{% endif %}

{% if data.timestamp %}
**Generated**: {{ format_date(data.timestamp, 'RELATIVE') }}
{% endif %}
{% endblock %}

{# Status Indicators #}
{% macro status_indicator(status) %}
  {%- if status == 'excellent' or status == 'completed' -%}
    {{ emoji.success }}
  {%- elif status == 'good' or status == 'in_progress' -%}
    {{ emoji.in_progress }}
  {%- elif status == 'fair' or status == 'pending' -%}
    {{ emoji.pending }}
  {%- elif status == 'poor' or status == 'blocked' -%}
    {{ emoji.blocked }}
  {%- elif status == 'critical' or status == 'failed' -%}
    {{ emoji.failure }}
  {%- else -%}
    {{ emoji.unknown }}
  {%- endif -%}
{% endmacro %}

{# Health Score Display #}
{% macro health_score(score, label='') %}
{{ score_to_emoji(score) }} {% if label %}{{ label }}: {% endif %}{{ (score * 100) | round(1) }}%
{% endmacro %}

{# Section Header #}
{% macro section(title, level=2) %}
{{ '#' * level }} {{ title }}

{% endmacro %}

{# List Item #}
{% macro list_item(text, indent=0) %}
{{ '  ' * indent }}- {{ text }}
{% endmacro %}

{# Main Content Block #}
{% block content %}
{# Override in child templates #}
{% endblock %}

{# Footer Block #}
{% block footer %}
---
_Generated by PARA System at {{ now.strftime('%Y-%m-%d %H:%M:%S') }}_
{% endblock %}
